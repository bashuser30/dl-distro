.TH "DL-DISTRO" "1" "December 31, 2023" "dl-distro v2.0.0" "dl-distro Manual"
.nh
.ad l
.SH NAME
dl-distro - Bash script for downloading and verifying OS images

.SH SYNOPSIS
\fIdl-distro\fR [options] <distro> [path]

\fIdl-distro\fR [options] <jq.path> [path]

.SH DESCRIPTION
dl-distro is a Bash script that simplifies the downloading and verification of
operating system images. It utilizes jq and a JSON file for data retrieval, and
wget for downloading image files, along with their signature and checksum files.

The script uses gpg for signature verification and checks the integrity of the
downloaded image file with the relevant checksum algorithm. It alerts users of
any tampering or corruption, and removes files that fail these checks.

.SH OPTIONS
.TP
.B -a, --auto-update
Toggle on or off automatic updating of the local JSON file.

.TP
.B -d, --delete-key <gpg_key_id>
Delete a stored GPG key using its GPG key id.

.TP
.B -h, --help
Display help message containing options and distributions available.

.TP
.B -i, --import-key <path_to_key>
Import a GPG key from a key file.

.TP
.B -l, --list-keys
List the stored GPG keys.

.TP
.B -n, --no-verify
Skip GPG, Minisign, or Signify key fetching and verification.

.TP
.B -p, --purge-data
Purge ALL the stored data. Includes GPG, Minisign, Signify keys and the JSON
file.

.TP
.B -s, --spider
Check if the URLs for the chosen image return a 200 status, indicating they are
valid URLs.

.TP
.B -u, --update-json
Update the locally stored JSON file.

.TP
.B -v, --version
Print dl-distro's current version.

.SH DISTRIBUTIONS
.TP
\fBalma\fR - AlmaLinux OS
https://almalinux.org
.TP
\fBalpine\fR - Alpine Linux
https://alpinelinux.org
.TP
\fBarch\fR - Arch Linux
https://archlinux.org
.TP
\fBdebian\fR - Debian
https://debian.org
.TP
\fBfedora\fR - Fedora Linux
https://fedoraproject.org
.TP
\fBgparted\fR - GParted Live
https://gparted.org
.TP
\fBkali\fR - Kali Linux
https://kali.org
.TP
\fBmint\fR - Linux Mint
https://linuxmint.com
.TP
\fBnixos\fR - NixOS
https://nixos.org
.TP
\fBopenbsd\fR - OpenBSD
https://openbsd.org
.TP
\fBopensuse\fR - openSUSE
https://opensuse.org
.TP
\fBparrot\fR - ParrotOS
https://parrotsec.org
.TP
\fBqubes\fR - Qubes OS
https://qubes-os.org
.TP
\fBrocky\fR - Rocky Linux
https://rockylinux.org
.TP
\fBslackware\fR - Slackware Linux
http://slackware.com
.TP
\fBsolus\fR - Solus
https://getsol.us
.TP
\fBtails\fR - Tails
https://tails.net
.TP
\fBubuntu\fR - Ubuntu
https://ubuntu.com
.TP
\fBvoid\fR - Void Linux
https://voidlinux.org
.TP
\fBwhonix\fR - Whonix
https://whonix.org

.SH EXAMPLES
.TP
dl-distro arch
Download and verify an Arch Linux image after choosing one from a menu.

.TP
dl-distro arch.latest
Use a jq path to skip the menu and start downloading the chosen image. The names
for the jq path are the same ones in the menus.

.TP
dl-distro -n arch.latest ~/Downloads
Skip GPG key fetching and verification, downloads to the ~/Downloads directory.

.SH FILES
.TP
.B CONFIG DIRECTORY
The config directory is \fI$XDG_CONFIG_HOME/dl-distro\fR. If
\fB$XDG_CONFIG_HOME\fR is unset, the directory will be
\fI$HOME/.config/dl-distro\fR.

\fIdl-distro.conf\fR is used to store dl-distro's config. Below are the
variables you can set. Values shown are default values used in the script,
please use quotes:

.RS
.TP
\fB   default_download_dir\fR="$PWD"
By default, if no download path is provided, dl-distro will use the \fB$PWD\fR
variable. To instead always download to a specific path, change this variable.
.TP
\fB   auto_fetch_enabled\fR="false"
Changing to \fBtrue\fR will download the JSON file from the master branch before
each run, ensuring always up-to-date data.
.TP
\fB   verification_enabled\fR="true"
Changing to \fBfalse\fR is like using -n, --no-verify always.
.TP
\fB   spider_mode_enabled\fR="false"
Changing to \fBtrue\fR is like using -s, --spider always.
.RE

.RS
You can also override data in the JSON file by downloading it and placing it in
the config directory. dl-distro will use this file over the one stored in the
data directory.
.RE

.TP
.B DATA DIRECTORY
The data directory is \fI$XDG_DATA_HOME/dl-distro\fR. If
\fB$XDG_DATA_HOME\fR is unset, the directory will be
\fI$HOME/.local/share/dl-distro\fR.

This directory is used to store the GPG keys, Minisign keys, Signify keys and
the JSON file.

.SH BUGS
Please report bugs on Codeberg https://codeberg.org/bashuser30/dl-distro/issues.

.SH AUTHORS
bashuser30 <bashuser30@mailbox.org>
